(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[984],{3539:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/photo",function(){return i(913)}])},913:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return w}});var n=i(5893),s=i(9008),a=i.n(s),o=i(5513),r=i.n(o),c=i(7294),d=i(4461),l=i(6339),h=i(1296),u=i.n(h);function f(e){let{image:t,availableWidth:i,rowNumber:s,excess:a,numberOfHorizontalImages:o}=e,r=i<=650,{source:c,width:d,height:l,url:h}=t,u=i/1500;if(l>d)return(0,n.jsx)("a",{href:"".concat(h.replace("/sizes/m/","")),children:(0,n.jsx)("div",{className:"cursor-pointer bg-cover hover:shadow-8",style:{backgroundImage:"url(".concat(c,")"),width:r?"":d*(300/l)*u,height:300}})});{let e=d;return a[s]>0&&(e+=a[s]/o),(0,n.jsx)("a",{href:"".concat(h.replace("/sizes/m/","")),children:(0,n.jsx)("div",{className:"cursor-pointer bg-cover hover:shadow-8",style:{backgroundImage:"url(".concat(c,")"),width:r?"":e*u,height:300}})})}}function p(){let e=new(r())("378c2fa49da047fd5a130b41b8ac1705"),t=[],[i,s]=(0,c.useState)([]),[a,o]=(0,c.useState)([]),h=[[]],p=[],[w,m]=(0,c.useState)(1),[x,j]=(0,c.useState)(!0),[g,b]=(0,c.useState)(0),v=()=>{j(!0),s(null);let e=t.map(e=>e.filter(e=>"Medium"===e.label)).flat(),i=0,n=0,a=0;e.forEach(e=>{let t=e.height>e.width,s=e.width*(300/e.height);a<=2?(h[n].push(e),i+=t?s:e.width):(p[n]=1500-i,h[++n]=[e],i=t?s:e.width,a=0),a++}),s([...h]),o(p),j(!1)},N=async i=>{j(!0);let n=await e.photos.search({user_id:"131481972@N07",per_page:12,page:i}),s=n.body.photos.photo;t=await Promise.all([...s.map(async t=>(await e.photos.getSizes({photo_id:t.id})).body.sizes.size)])};return(0,c.useEffect)(()=>{N(1).then(v),b(window.innerWidth),window.addEventListener("resize",u()(()=>{b(window.innerWidth)},300))},[]),(0,n.jsxs)("div",{className:"card",title:"Photos",children:[(0,n.jsx)("h3",{children:"Photos"}),(0,n.jsxs)("div",{className:"flex justify-content-between",children:[(0,n.jsx)(d.z,{className:"p-button-outlined",icon:"pi pi-arrow-left ",disabled:x||1===w,onClick:()=>{m(e=>(N(e-1).then(v),e-1))}}),(0,n.jsxs)("h3",{children:["page : ",w]}),(0,n.jsx)(d.z,{className:"p-button-outlined",icon:"pi pi-arrow-right",disabled:x,onClick:()=>{m(e=>(N(e+1).then(v),e+1))}})]}),x?(0,n.jsx)("div",{className:"flex justify-content-center",children:(0,n.jsx)(l.G,{})}):(0,n.jsx)("div",{style:{paddingLeft:"2.5vw",paddingTop:"2rem"},children:i&&i.map((e,t)=>(0,n.jsx)("div",{className:"flex ".concat(window.innerWidth<=650?"flex-column":""),children:e.map((i,s)=>(0,n.jsx)("div",{children:(0,n.jsx)(f,{image:i,availableWidth:g,rowNumber:t,excess:a,numberOfHorizontalImages:e.filter(e=>e.width>e.height).length})},"".concat(t,".").concat(s)))},t))})]})}var w=function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a(),{children:(0,n.jsx)("title",{children:"My photos"})}),(0,n.jsx)(p,{})]})}},4654:function(){}},function(e){e.O(0,[461,774,888,179],function(){return e(e.s=3539)}),_N_E=e.O()}]);