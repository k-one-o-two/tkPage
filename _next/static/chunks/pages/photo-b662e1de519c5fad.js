(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[984],{3539:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/photo",function(){return n(913)}])},913:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var i=n(5893),a=n(9008),s=n.n(a),c=n(5513),o=n.n(c),r=n(7294),d=n(6339),l=n(1296),h=n.n(l);function u(e){let{image:t,availableWidth:n,rowNumber:a,excess:s,numberOfHorizontalImages:c}=e,o=n<=650,{source:r,width:d,height:l,url:h}=t,u=n/1700;if(l>d)return(0,i.jsx)("div",{className:"flickeImageTileContainer",style:{width:o?"":d*(400/l)*u,height:400},children:(0,i.jsx)("a",{href:"".concat(h.replace("/sizes/m/","")),children:(0,i.jsx)("div",{className:"cursor-pointer hover:shadow-8 flickeImageTile",style:{backgroundSize:"cover",backgroundPositionY:"center",backgroundPositionX:"center",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(r,")"),height:"100%"}})})});{let e=d;return s[a]>0&&(e+=s[a]/c),(0,i.jsx)("div",{className:"flickeImageTileContainer",style:{width:o?"":e*u,height:400},children:(0,i.jsx)("a",{href:"".concat(h.replace("/sizes/m/","")),children:(0,i.jsx)("div",{className:"cursor-pointer hover:shadow-8 flickeImageTile",style:{backgroundSize:"cover",backgroundPositionY:"center",backgroundPositionX:"center",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(r,")"),height:"100%"}})})})}}function x(){let e=new(o())("378c2fa49da047fd5a130b41b8ac1705"),t=[],[n,a]=(0,r.useState)([]),[s,c]=(0,r.useState)([]),l=[[]],x=[],[f,g]=(0,r.useState)(1),[m,p]=(0,r.useState)(!0),[w,b]=(0,r.useState)(0),j=()=>{p(!0),a(null);let e=t.map(e=>e.filter(e=>"Medium"===e.label)).flat(),n=0,i=0,s=0;e.forEach(e=>{let t=e.height>e.width,a=e.width*(300/e.height);s<=2?(l[i].push(e),n+=t?a:e.width):(x[i]=1500-n,l[++i]=[e],n=t?a:e.width,s=0),s++}),a([...l]),c(x),p(!1)},v=async n=>{p(!0);let i=await e.photos.search({user_id:"131481972@N07",per_page:12,page:n}),a=i.body.photos.photo;t=await Promise.all([...a.map(async t=>(await e.photos.getSizes({photo_id:t.id})).body.sizes.size)])};return(0,r.useEffect)(()=>{v(1).then(j),b(window.innerWidth-200),window.addEventListener("resize",h()(()=>{b(window.innerWidth-200)},300))},[]),(0,i.jsxs)("div",{className:"card",title:"Photos",children:[(0,i.jsx)("h3",{children:"Photos"}),(0,i.jsxs)("div",{className:"flex justify-content-between",children:[(0,i.jsx)("div",{className:"button",disabled:m||1===f,onClick:()=>{g(e=>(v(e-1).then(j),e-1))},children:"\xa0\xa0<<<\xa0\xa0"}),(0,i.jsxs)("h3",{children:["page = ",f]}),(0,i.jsx)("div",{className:"button",disabled:m,onClick:()=>{g(e=>(v(e+1).then(j),e+1))},children:"\xa0\xa0>>>\xa0\xa0"})]}),m?(0,i.jsx)("div",{className:"flex justify-content-center",children:(0,i.jsx)(d.G,{})}):(0,i.jsx)("div",{style:{paddingLeft:"1.5vw",paddingTop:"2rem"},children:n&&n.map((e,t)=>(0,i.jsx)("div",{className:"flex ".concat(window.innerWidth<=650?"flex-column":""),children:e.map((n,a)=>(0,i.jsx)("div",{children:(0,i.jsx)(u,{image:n,availableWidth:w,rowNumber:t,excess:s,numberOfHorizontalImages:e.filter(e=>e.width>e.height).length})},"".concat(t,".").concat(a)))},t))}),(0,i.jsxs)("div",{style:{paddingTop:"20px"},className:"flex justify-content-between",children:[(0,i.jsx)("div",{className:"button",disabled:m||1===f,onClick:()=>{g(e=>(v(e-1).then(j),e-1))},children:"\xa0\xa0<<<\xa0\xa0"}),(0,i.jsxs)("h3",{children:["page = ",f]}),(0,i.jsx)("div",{className:"button",disabled:m,onClick:()=>{g(e=>(v(e+1).then(j),e+1))},children:"\xa0\xa0>>>\xa0\xa0"})]})]})}var f=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s(),{children:(0,i.jsx)("title",{children:"My photos"})}),(0,i.jsx)(x,{})]})}},4654:function(){}},function(e){e.O(0,[908,774,888,179],function(){return e(e.s=3539)}),_N_E=e.O()}]);