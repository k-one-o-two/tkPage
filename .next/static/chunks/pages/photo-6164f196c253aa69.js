(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[984],{3539:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/photo",function(){return i(913)}])},913:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return w}});var n=i(5893);i(8894);var s=i(5513),a=i.n(s),o=i(7294),c=i(7388),r=i(5101),l=i(6339),d=i(1296),h=i.n(d);function u(e){let{src:t,width:i,height:s,availableWidth:a,rowNumber:o,excess:c,numberOfHorizontalImages:r}=e;console.info("ImageTile");let l=a/1500;if(s>i)return(0,n.jsx)("div",{className:"bg-cover",style:{backgroundImage:"url(".concat(t,")"),width:i*(300/s)*l,height:300}});{let e=i;return c[o]>0&&(e+=c[o]/r),(0,n.jsx)("div",{className:"bg-cover",style:{backgroundImage:"url(".concat(t,")"),width:e*l,height:300}})}}function f(){let e=new(a())("378c2fa49da047fd5a130b41b8ac1705"),t=[],[i,s]=(0,o.useState)([]),[d,f]=(0,o.useState)([]),w=[[]],p=[],[g,m]=(0,o.useState)(1),[x,b]=(0,o.useState)(!0),j=()=>{console.info("placeImages"),s(null);let e=t.map(e=>e.filter(e=>"Medium"===e.label)).flat(),i=0,n=0,a=0;e.forEach(e=>{let t=e.height>e.width,s=e.width*(300/e.height);a<=2?(w[n].push(e),i+=t?s:e.width):(p[n]=1500-i,w[++n]=[e],i=t?s:e.width,a=0),a++}),s(w),f(p),b(!1)},v=async i=>{b(!0);let n=await e.photos.search({user_id:"131481972@N07",per_page:12,page:i}),s=n.body.photos.photo;t=await Promise.all([...s.map(async t=>(await e.photos.getSizes({photo_id:t.id})).body.sizes.size)])};return(0,o.useEffect)(()=>{v(1).then(j),window.addEventListener("resize",h()(j,300))},[]),(0,n.jsxs)(c.Z,{title:"Photos",children:[(0,n.jsxs)("div",{className:"card flex justify-content-between",children:[(0,n.jsx)(r.z,{icon:"pi pi-arrow-left",disabled:x||1===g,onClick:()=>{m(e=>(v(e-1).then(j),e-1))}}),(0,n.jsxs)("h3",{children:["page: ",g]}),(0,n.jsx)(r.z,{icon:"pi pi-arrow-right",disabled:x,onClick:()=>{m(e=>(v(e+1).then(j),e+1))}})]}),x?(0,n.jsx)("div",{className:"card flex justify-content-center",children:(0,n.jsx)(l.G,{})}):(0,n.jsx)("div",{style:{paddingLeft:"2.5vw",paddingTop:"2rem"},children:i&&i.map((e,t)=>(0,n.jsx)("div",{className:"flex",children:e.map((i,s)=>(0,n.jsx)("div",{children:(0,n.jsx)(u,{src:i.source,width:i.width,height:i.height,availableWidth:.9*window.innerWidth,rowNumber:t,excess:d,numberOfHorizontalImages:e.filter(e=>e.width>e.height).length})},"".concat(t,".").concat(s)))},t))})]})}console.info(h());var w=function(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(f,{})})}},4654:function(){}},function(e){e.O(0,[58,774,888,179],function(){return e(e.s=3539)}),_N_E=e.O()}]);